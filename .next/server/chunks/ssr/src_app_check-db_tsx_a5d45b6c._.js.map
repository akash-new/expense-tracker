{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/apple/Downloads/expense-tracker/src/app/check-db.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from 'react';\nimport { createSupabaseBrowserClient } from '@/lib/supabase/client';\n\nexport default function CheckDB() {\n  const [tables, setTables] = useState<string[]>([]);\n  const [error, setError] = useState<string | null>(null);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    async function checkDatabase() {\n      try {\n        const supabase = createSupabaseBrowserClient();\n        console.log('Checking Supabase connection...');\n        console.log('URL:', process.env.NEXT_PUBLIC_SUPABASE_URL);\n\n        // Check expenses table\n        const { data: expensesData, error: expensesError } = await supabase\n          .from('expenses')\n          .select('id')\n          .limit(1);\n\n        if (expensesError) {\n          console.error('Error checking expenses table:', expensesError);\n          setError(`Expenses table error: ${expensesError.message}`);\n          return;\n        }\n\n        // Check budgets table\n        const { data: budgetsData, error: budgetsError } = await supabase\n          .from('budgets')\n          .select('id')\n          .limit(1);\n\n        if (budgetsError) {\n          console.error('Error checking budgets table:', budgetsError);\n          setError(`Budgets table error: ${budgetsError.message}`);\n          return;\n        }\n\n        console.log('Database connection successful');\n        console.log('Expenses table accessible, found:', expensesData?.length || 0, 'entries');\n        console.log('Budgets table accessible, found:', budgetsData?.length || 0, 'entries');\n        setTables(['expenses', 'budgets']);\n        setError(null);\n      } catch (err) {\n        console.error('Database check failed:', err);\n        setError(`Database check failed: ${err instanceof Error ? err.message : String(err)}`);\n      } finally {\n        setLoading(false);\n      }\n    }\n\n    checkDatabase();\n  }, []);\n\n  return (\n    <div className=\"p-8\">\n      <h1 className=\"text-2xl font-bold mb-4\">Database Connection Check</h1>\n      \n      {loading ? (\n        <p>Checking database connection...</p>\n      ) : error ? (\n        <div className=\"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded\">\n          <p className=\"font-bold\">Error:</p>\n          <p>{error}</p>\n        </div>\n      ) : (\n        <div className=\"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded\">\n          <p className=\"font-bold\">Success!</p>\n          <p>Connection to database established successfully.</p>\n          <p>Available tables: {tables.join(', ')}</p>\n          <p>Check the browser console for detailed information.</p>\n        </div>\n      )}\n\n      <div className=\"mt-4\">\n        <h2 className=\"text-xl font-bold mb-2\">Environment Variables:</h2>\n        <pre className=\"bg-gray-100 p-4 rounded overflow-x-auto\">\n          {`NEXT_PUBLIC_SUPABASE_URL: ${process.env.NEXT_PUBLIC_SUPABASE_URL || 'not set'}`}\n        </pre>\n      </div>\n    </div>\n  );\n} "],"names":[],"mappings":";;;;AAEA;AACA;AAHA;;;;AAKe,SAAS;IACtB,MAAM,CAAC,QAAQ,UAAU,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAY,EAAE;IACjD,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAiB;IAClD,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAEvC,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,eAAe;YACb,IAAI;gBACF,MAAM,WAAW,CAAA,GAAA,gIAAA,CAAA,8BAA2B,AAAD;gBAC3C,QAAQ,GAAG,CAAC;gBACZ,QAAQ,GAAG,CAAC;gBAEZ,uBAAuB;gBACvB,MAAM,EAAE,MAAM,YAAY,EAAE,OAAO,aAAa,EAAE,GAAG,MAAM,SACxD,IAAI,CAAC,YACL,MAAM,CAAC,MACP,KAAK,CAAC;gBAET,IAAI,eAAe;oBACjB,QAAQ,KAAK,CAAC,kCAAkC;oBAChD,SAAS,CAAC,sBAAsB,EAAE,cAAc,OAAO,EAAE;oBACzD;gBACF;gBAEA,sBAAsB;gBACtB,MAAM,EAAE,MAAM,WAAW,EAAE,OAAO,YAAY,EAAE,GAAG,MAAM,SACtD,IAAI,CAAC,WACL,MAAM,CAAC,MACP,KAAK,CAAC;gBAET,IAAI,cAAc;oBAChB,QAAQ,KAAK,CAAC,iCAAiC;oBAC/C,SAAS,CAAC,qBAAqB,EAAE,aAAa,OAAO,EAAE;oBACvD;gBACF;gBAEA,QAAQ,GAAG,CAAC;gBACZ,QAAQ,GAAG,CAAC,qCAAqC,cAAc,UAAU,GAAG;gBAC5E,QAAQ,GAAG,CAAC,oCAAoC,aAAa,UAAU,GAAG;gBAC1E,UAAU;oBAAC;oBAAY;iBAAU;gBACjC,SAAS;YACX,EAAE,OAAO,KAAK;gBACZ,QAAQ,KAAK,CAAC,0BAA0B;gBACxC,SAAS,CAAC,uBAAuB,EAAE,eAAe,QAAQ,IAAI,OAAO,GAAG,OAAO,MAAM;YACvF,SAAU;gBACR,WAAW;YACb;QACF;QAEA;IACF,GAAG,EAAE;IAEL,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAG,WAAU;0BAA0B;;;;;;YAEvC,wBACC,8OAAC;0BAAE;;;;;uBACD,sBACF,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAE,WAAU;kCAAY;;;;;;kCACzB,8OAAC;kCAAG;;;;;;;;;;;qCAGN,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAE,WAAU;kCAAY;;;;;;kCACzB,8OAAC;kCAAE;;;;;;kCACH,8OAAC;;4BAAE;4BAAmB,OAAO,IAAI,CAAC;;;;;;;kCAClC,8OAAC;kCAAE;;;;;;;;;;;;0BAIP,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAG,WAAU;kCAAyB;;;;;;kCACvC,8OAAC;wBAAI,WAAU;kCACZ,CAAC,0BAA0B,EAAE,gFAAwC,WAAW;;;;;;;;;;;;;;;;;;AAK3F","debugId":null}}]
}